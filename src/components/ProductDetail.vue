<template>
    <div class="productdetails">
          
            <div class="proimage">
           <img src="https://cdn-mgsm.akinon.net/products/2021/12/06/120171/2e431b21-d3d4-49dd-88b1-0062296cafd0_size437x330_cropCenter.jpg">
           <div class="moreimage">
             <img class="detay" src="https://cdn-mgsm.akinon.net/products/2021/12/06/120171/2e431b21-d3d4-49dd-88b1-0062296cafd0_size100x100.jpg">
             <img class="detay" src="https://cdn-mgsm.akinon.net/products/2021/12/06/120171/daf7c8bc-66ba-47cc-bda0-cb4c127bdd41_size100x100.jpg">
             <img class="detay" src="https://cdn-mgsm.akinon.net/products/2021/12/06/120171/4865c2a7-9cf4-4761-bcf7-8e11b39601f2_size100x100.jpg">
             <img class="detay" src="https://cdn-mgsm.akinon.net/products/2021/12/06/120171/2dd8137a-ba40-4a5b-a1c4-ba918ff60aee_size100x100.jpg">
             <img class="detay" src="https://cdn-mgsm.akinon.net/products/2021/12/06/120171/34f561db-79b9-4c50-8847-95c3e1001ef1_size100x100.jpg">
           </div>
            <div class="detail">
                <div class="degerlendirme">
                <h2>Sona Tek Kişilik Püsküllü Nevresim Seti - Mercan</h2>
                <div class="rating"> 
                  <label for="5">☆</label>
                   <label for="4">☆</label> 
                   <label for="3">☆</label>
                    <label for="2">☆</label> 
                    <label for="1">☆</label>
                   </div>
                <p class="pdegerlendirme">Ürünü Değerlendir</p> 
                </div>
                <br>
                <p class="code">Ürün Kodu:1KBATD0136256</p>
                <br><br>
                <div class="productpricebox">
                    <div class="productitemdisc">
                        <div class="productitemdiscprice">
                            <span class="productitemdiscpercent">%</span>  23 
                        </div>
                        <div class="productind">indirim</div>
                    </div>
                    <div class="product-item__price-cnt">
                            <span class="product__discounted-price">359.99 TL</span>
                            <span class="product__price">251.99 TL</span>
                    </div>
                </div>
                <div class="productbanner">
                        <div class="productbannertext">Sepette %35 İndirim </div>
                        <div class="productbannerprice">251.99TL </div>
                    </div>
                        <br>

              <a>Seçtiğiniz Renk:</a><b>MERCAN</b>
              <br>
              <br>
              <div class="changecolor">
              <div class="color">
                <img class="imagecol" src="https://cdn-mgsm.akinon.net/products/2021/12/03/120172/65320d8c-e80f-4206-ba3c-6fd5e13dbb03_size60x40_cropCenter.jpg">
                <a>Bej</a>
              </div>
              <div class="color">
                <img class="imagecol" src="https://cdn-mgsm.akinon.net/products/2021/11/29/120166/6efc0e7b-114a-48e3-b6fd-7cc748e12ad6_size60x40_cropCenter.jpg">
                <a>İndigo</a>
              </div>
              <div class="color">
                <img class="imagecol" src="https://cdn-mgsm.akinon.net/products/2021/11/29/120176/30295dd8-9192-4fed-8bba-5fff52bb078b_size60x40_cropCenter.jpg">
                <a>Sarı</a>
              </div>
              <div class="color">
                <img class="imagecol" src="https://cdn-mgsm.akinon.net/products/2021/05/01/101206/534094e1-9609-4d11-b339-75de66fe8ec5_size60x40_cropCenter.jpg">
                <a>Gri</a>
              </div>
              <div class="color">
                <img class="imagecol" src="https://cdn-mgsm.akinon.net/products/2021/12/03/120168/9ef2439c-1ec3-426a-bcb8-c67bdb18e438_size60x40_cropCenter.jpg">
                <a>Haki</a>
              </div>
              <div class="color">
                <img class="imagecol" src="https://cdn-mgsm.akinon.net/products/2021/12/06/120171/2e431b21-d3d4-49dd-88b1-0062296cafd0_size60x40_cropCenter.jpg">
                <a>Mercan</a>
              </div>
                <div class="color">
                <img class="imagecol" src="https://cdn-mgsm.akinon.net/products/2021/11/29/120170/87207a0a-4b9b-41ff-966d-bd7e960b439c_size60x40_cropCenter.jpg">
                <a>Pudra</a>
              </div>
            </div>
            <br>
            <div class="productcolor">
                <div class="productblock">
                    <div class="product__count">
                      <div class="product__count__title">
                        Lütfen adet seçin
                      </div>
                      <div class="js-counter product__count__counter">
                        <a href="#" class="product__count__minus js-minus">
                          <img class="plusminus" src="https://icons.veryicon.com/png/o/miscellaneous/standard-general-linear-icon/minus-29.png">
                        </a>
                        <span class="product__count__number  js-number">1</span>
                        <a href="#" class="product__count__plus">
                          <img class="plusminus" src="https://icons.veryicon.com/png/o/miscellaneous/standard-general-linear-icon/plus-60.png">
                        </a>
                      </div>
                      <div class="basket">
                       <router-link to="/Basketviews">
                    <button @click="addBasket" class="sepetekle">SEPETE EKLE
                      <img class="plusminus" src="https://expatexplore.com/assets/img/icons/Chevron.svg">
                    </button>
                       </router-link>
                       </div>
                    </div>
                </div>
            </div>
            </div>
        </div>
        </div>
</template>
<style scoped>
.detay{
  width: 70px;
  height: 70px;
  margin-right: 10px;
}
.moreimage{
  display: flex;
  flex-direction: row;
  margin-top: 10px;
  margin-right: 10px;
  margin-left: 60px;
}

.basket{
position: relative;
left: 100px;
top: -30px;
}
.changecolor{
  display: flex;
  flex-direction: row;
  font-size: 15px;
}
.imagecol{
  width: 50px;
  height: 30px;
}
.plusminus{
  width: 15px;
  height: 15px;
}
   div{
    margin: 0;
    padding: 0;
    border: 0;
    font-size: 100%;
    font: inherit;
    vertical-align: baseline;
       }
        
 h2{
 font-size: 18px;
 font-weight: 700;
 padding-right: 35px;
max-width: 90%;
font-weight: 700;
margin-bottom: 5px;
margin: 0;
color: black;
}
 p{
  font-size:12px;
}          
.degerlendirme{
display:block;
font-size: 13px;
margin-left: 5px;
color: #75787B;
float: none;
font-weight: bold;
}
b{
  font-weight: 700;
}
          .code{
            font-size: 12px;
            color: #31363a;
            margin-top: 10px;
          }         
          .productpricebox{
              display: flex;
              align-items: baseline;
              margin: 5px 0 15px;
          }
          .productitemdisc{
            border: 1px solid #a80000;
            padding: 1px;
            margin-right: 5px;
          }
          .productitemdiscprice{
              padding: 3px 5px 1px;
              font-size: 16px;
              background-color: #a80000;
              color: #fff;
              text-align: center;
              line-height: 1;
              font-weight: 600;
          }
          .productitemdiscpercent{
            font-size: 11px;
            bottom: 1px;
            position: relative;
           right: -3px;
          }
          .productind{
            bottom: -3px;
            font-size: 12px;
            color: #a80000;
            text-align: center;
            line-height: 1;
            position: relative;
            font-weight: 700;
          }
          .product-item__price-cnt{
            position: relative;
            top: -6px;
            left: 0;
            display: flex;
            flex-direction: column;
          }
          .product__discounted-price{
             font-size: 14px;
             white-space: nowrap; 
             width: 50%;
             display: block;
             color: #96050c;
             font-weight: lighter;
             text-decoration: line-through;
          }
          .product__price{
            font-size: 24px;
              white-space: nowrap;
              margin-right: 0;
              vertical-align: baseline;
              font-weight: 600;
          }
          .productbanner{
            display: flex;
            justify-content: space-around;
            margin-top: -5;
            margin-bottom: 10px;
            background: #f8f8f8;
            border: 1px #a80000 solid;
            font-size: 11px;
            color: #ad1111;
            font-family: 'Open Sans';
            width: 215px;
            height: 25px;
            line-height: 26px;
          }
          .productbannertext{
             font-weight: bold;
             font-size: 11px;
            color: #333333; 
          }
          .productbannerprice{
            font-size: 15px;
            color: #a80000;
          }
          .productcolor{
            padding-top: 15px;
            display: flex;
           flex-direction:row;
           margin-bottom: 2em;
          }
          .productblocktitle{
            margin: 9px 0;
            font-size: 12px;
          }
          a{
            font: inherit;
           vertical-align: baseline;
           margin: 0;
          }
          .sepetekle{
            display: block;
            color: white;
            width: 150px;
            height: 30px;
            margin-bottom: 18px;
            font-size: 16px;
            font-weight: 400;
            border: 0;
            background-color: #ad1111;
          }
          img{
              width: 550px;
              height: 430px;
          }
          .productdetails{
              position: absolute;
              top: 300px;
              left: 200px;
              background-color: white;
              float: left;
          }
          .rating {
          display: flex;
          flex-direction: row-reverse;
          justify-content:left;
}
.detail{
  width: 400px;
  position: absolute;
  left: 580px;
  float: right;
  top: 0;
}
.rating>input {
    display: none;
}

.rating>label {
    position: relative;
    font-size:30px;
    color: #FFD600;
    cursor: pointer;
}

.rating>label::before {
    content: "\2605";
    position: absolute;
    opacity: 0;
}

.rating>label:hover:before,
.rating>label:hover~label:before {
    opacity: 1 !important;
}

.rating>input:checked~label:before {
    opacity: 1;
}

.rating:hover>input:checked~label:before {
    opacity: 0.4;
}

body {
    background: #222225;
    color: white;
}
.product__count {
    float: left;
    margin-right: 15px;
    margin-top: 28px;
}
.product__count__title {
    font-size: 12px;
    margin-bottom: 9px;
}
.product__count__counter {
  display: flex;
  flex-direction: row;
    zoom: 1;
    padding:5px;
    border: 1px solid #e9e9e9;
}
.product__count__minus {
    border-radius: 5px;
    background-clip: padding-box;
    float: left;
    position: relative;
    width: 24px;
    height: 24px;
    line-height: 24px;
    text-align: center;
    background-color: #e9e9e9;
}
.product__count__number {
    float: left;
    position: relative;
    width: 24px;
    height: 24px;
    line-height: 24px;
    text-align: center;
    font-family: Open Sans;
    font-size: 18px;
    font-weight: 200;
    color: #8a8a8a;
}
.product__count__plus {
    border-radius: 5px;
    background-clip: padding-box;
    float: left;
    position: relative;
    width: 24px;
    height: 24px;
    line-height: 24px;
    text-align: center;
    background-color: #e9e9e9;
}

</style>


<script>
export default {
  name: "ProductDetail",
  data() {
    return {
      product: null
    }
  },
  methods: {
    addBasket() {
      this.product["count"] = 1
      const temp = this.getProducts;
      const filter = this.getProducts.find(x => x.id == this.product.id);
      if (filter != null) {
        this.$store.commit('clearBasket')
        this.product["count"] = filter.count + 1;
        const index = temp.findIndex(x => x.id == this.product.id);
        if (index > -1) {
          console.log(index)
          temp.splice(index,1);
        }
        temp.push(this.product)
        console.log(temp)
        this.$store.commit('setbasket', temp)
      } else {
        this.$store.commit('setbasket', this.product)
      }
    }
  },
  computed: {
    getProducts() {
      return this.$store.getters.getBasket;
    }
  },
  created() {
    const id = this.$route.params.id;
    console.log(arr)
    if (arr != null && arr.length > 0)
      this.product = arr[0];
  }
}
</script>
